(this["webpackJsonpnews-classifier-client"]=this["webpackJsonpnews-classifier-client"]||[]).push([[0],{114:function(e,s,t){},116:function(e,s,t){"use strict";t.r(s);var c,a=t(0),n=t(1),r=t.n(n),i=t(79),l=t(5),o=t(7),d=t(44),j=new(t(118).a)(null),b="".concat(d.apiUrl,"/accounts"),m={login:function(e,s){return T.post("".concat(b,"/authenticate"),{email:e,password:s}).then((function(e){return j.next(e),p(),e}))},logout:u,refreshToken:h,register:function(e){return T.post("".concat(b,"/register"),e)},verifyEmail:function(e){return T.post("".concat(b,"/verify-email"),{token:e})},forgotPassword:function(e){return T.post("".concat(b,"/forgot-password"),{email:e})},validateResetToken:function(e){return T.post("".concat(b,"/validate-reset-token"),{token:e})},resetPassword:function(e){var s=e.token,t=e.password,c=e.confirmPassword;return T.post("".concat(b,"/reset-password"),{token:s,password:t,confirmPassword:c})},getAll:function(){return T.get(b)},getById:function(e){return T.get("".concat(b,"/").concat(e))},create:function(e){return T.post(b,e)},update:function(e,s){return T.put("".concat(b,"/").concat(e),s).then((function(e){return e.id===j.value.id&&(e=Object(o.a)(Object(o.a)({},j.value),e),j.next(e)),e}))},delete:function(e){return T.delete("".concat(b,"/").concat(e)).then((function(s){return e===j.value.id&&u(),s}))},user:j.asObservable(),get userValue(){return j.value}};function u(){T.post("".concat(b,"/revoke-token"),{}),clearTimeout(c),j.next(null),A.push("/account/login")}function h(){return T.post("".concat(b,"/refresh-token"),{}).then((function(e){return j.next(e),p(),e}))}function p(){var e=JSON.parse(atob(j.value.jwtToken.split(".")[1])),s=new Date(1e3*e.exp).getTime()-Date.now()-6e4;c=setTimeout(h,s)}var x=t(88),f=t(119),O=new x.a,v="default-alert",N={onAlert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;return O.asObservable().pipe(Object(f.a)((function(s){return s&&s.id===e})))},success:function(e,s){P(Object(o.a)(Object(o.a)({},s),{},{type:g,message:e}))},error:function(e,s){P(Object(o.a)(Object(o.a)({},s),{},{type:w,message:e}))},info:function(e,s){P(Object(o.a)(Object(o.a)({},s),{},{type:y,message:e}))},warn:function(e,s){P(Object(o.a)(Object(o.a)({},s),{},{type:k,message:e}))},alert:P,clear:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;O.next({id:e})}},g="Success",w="Error",y="Info",k="Warning";function P(e){e.id=e.id||v,e.autoClose=void 0===e.autoClose||e.autoClose,O.next(e)}var S="".concat(d.apiUrl,"/classificator"),q={processText:function(e,s){return T.post("".concat(S,"/process-text"),{title:e,text:s}).then((function(e){return N.success("Text processing success",e),e}))}};var T={get:function(e){var s={method:"GET",headers:C(e)};return fetch(e,s).then(E)},post:function(e,s){var t={method:"POST",headers:Object(o.a)({"Content-Type":"application/json"},C(e)),credentials:"include",body:JSON.stringify(s)};return fetch(e,t).then(E)},put:function(e,s){var t={method:"PUT",headers:Object(o.a)({"Content-Type":"application/json"},C(e)),body:JSON.stringify(s)};return fetch(e,t).then(E)},delete:function(e){var s={method:"DELETE",headers:C(e)};return fetch(e,s).then(E)}};function C(e){var s=m.userValue,t=s&&s.jwtToken,c=e.startsWith(d.apiUrl);return t&&c?{Authorization:"Bearer ".concat(s.jwtToken)}:{}}function E(e){return e.text().then((function(s){var t=s&&JSON.parse(s);if(!e.ok){[401,403].includes(e.status)&&m.userValue&&m.logout();var c=t&&t.message||e.statusText;return Promise.reject(c)}return t}))}var V=t(16),A=Object(V.a)(),M="Admin",R=(t(97),t(12)),U=t(8),D=t(42),F=t(89);function L(e){var s=e.id,t=e.fade,c=Object(n.useState)([]),r=Object(R.a)(c,2),i=r[0],l=r[1];function d(e){if(t){var s=Object(o.a)(Object(o.a)({},e),{},{fade:!0});l((function(t){return t.map((function(t){return t===e?s:t}))})),setTimeout((function(){l((function(e){return e.filter((function(e){return e!==s}))}))}),250)}else l((function(s){return s.filter((function(s){return s!==e}))}))}function j(e){var s;if(e){var t=["alert","alert-dismissable"],c=(s={},Object(D.a)(s,g,"alert alert-success"),Object(D.a)(s,w,"alert alert-danger"),Object(D.a)(s,y,"alert alert-info"),Object(D.a)(s,k,"alert alert-warning"),s);return t.push(c[e.type]),e.fade&&t.push("fade"),t.join(" ")}}return Object(n.useEffect)((function(){var e=N.onAlert(s).subscribe((function(e){e.message?(l((function(s){return[].concat(Object(F.a)(s),[e])})),e.autoClose&&setTimeout((function(){return d(e)}),3e3)):l((function(e){var s=e.filter((function(e){return e.keepAfterRouteChange}));return s.forEach((function(e){return delete e.keepAfterRouteChange})),s}))})),t=A.listen((function(e){e.pathname.endsWith("/")||N.clear(s)}));return function(){e.unsubscribe(),t()}}),[]),i.length?Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"m-3",children:i.map((function(e,s){return Object(a.jsxs)("div",{className:j(e),children:[Object(a.jsx)("a",{className:"close",onClick:function(){return d(e)},children:"\xd7"}),Object(a.jsx)("span",{dangerouslySetInnerHTML:{__html:e.message}})]},s)}))})}):null}function B(){var e=Object(n.useState)({}),s=Object(R.a)(e,2),t=s[0],c=s[1];return Object(n.useEffect)((function(){return m.user.subscribe((function(e){return c(e)})).unsubscribe}),[]),t?Object(a.jsxs)("div",{children:[Object(a.jsx)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:Object(a.jsxs)("div",{className:"navbar-nav",children:[Object(a.jsx)(l.c,{exact:!0,to:"/",className:"nav-item nav-link",children:"Main"}),Object(a.jsx)(l.c,{to:"/classificator",className:"nav-item nav-link",children:"Classificator"}),Object(a.jsx)(l.c,{to:"/archive",className:"nav-item nav-link",children:"Archive"}),t.role===M&&Object(a.jsx)(l.c,{to:"/admin",className:"nav-item nav-link",children:"Admin"}),Object(a.jsx)("a",{onClick:m.logout,className:"nav-item nav-link",children:"Sign out"})]})}),Object(a.jsx)(U.b,{path:"/admin",component:I})]}):null}function I(e){var s=e.match.path;return Object(a.jsx)("nav",{className:"admin-nav navbar navbar-expand navbar-light",children:Object(a.jsx)("div",{className:"navbar-nav",children:Object(a.jsx)(l.c,{to:"".concat(s,"/users"),className:"nav-item nav-link",children:"Users"})})})}L.defaultProps={id:"default-alert",fade:!0};var J=t(90);function W(e){var s=e.component,t=e.roles,c=Object(J.a)(e,["component","roles"]);return Object(a.jsx)(U.b,Object(o.a)(Object(o.a)({},c),{},{render:function(e){var c=m.userValue;return c?t&&-1===t.indexOf(c.role)?Object(a.jsx)(U.a,{to:{pathname:"/"}}):Object(a.jsx)(s,Object(o.a)({},e)):Object(a.jsx)(U.a,{to:{pathname:"/account/login",state:{from:e.location}}})}}))}function _(){return Object(a.jsx)("section",{class:"pricing-table",children:Object(a.jsxs)("div",{class:"container",children:[Object(a.jsxs)("div",{class:"block-heading",children:[Object(a.jsx)("h2",{children:"Our Pricing"}),Object(a.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc quam urna, dignissim nec auctor in, mattis vitae leo."})]}),Object(a.jsxs)("div",{class:"row justify-content-md-center",children:[Object(a.jsx)("div",{class:"col-md-5 col-lg-4",children:Object(a.jsxs)("div",{class:"item",children:[Object(a.jsx)("div",{class:"heading",children:Object(a.jsx)("h3",{children:"BASIC"})}),Object(a.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}),Object(a.jsxs)("div",{class:"features",children:[Object(a.jsxs)("h4",{children:[Object(a.jsx)("span",{class:"feature",children:"Full Support"})," :"," ",Object(a.jsx)("span",{class:"value",children:"No"})]}),Object(a.jsxs)("h4",{children:[Object(a.jsx)("span",{class:"feature",children:"Duration"})," :"," ",Object(a.jsx)("span",{class:"value",children:"30 Days"})]}),Object(a.jsxs)("h4",{children:[Object(a.jsx)("span",{class:"feature",children:"Storage"})," :"," ",Object(a.jsx)("span",{class:"value",children:"10GB"})]})]}),Object(a.jsx)("div",{class:"price",children:Object(a.jsx)("h4",{children:"$25"})}),Object(a.jsx)("button",{class:"btn btn-block btn-outline-primary",type:"submit",children:"BUY NOW"})]})}),Object(a.jsx)("div",{class:"col-md-5 col-lg-4",children:Object(a.jsxs)("div",{class:"item",children:[Object(a.jsx)("div",{class:"ribbon",children:"Best Value"}),Object(a.jsx)("div",{class:"heading",children:Object(a.jsx)("h3",{children:"PRO"})}),Object(a.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}),Object(a.jsxs)("div",{class:"features",children:[Object(a.jsxs)("h4",{children:[Object(a.jsx)("span",{class:"feature",children:"Full Support"})," :"," ",Object(a.jsx)("span",{class:"value",children:"Yes"})]}),Object(a.jsxs)("h4",{children:[Object(a.jsx)("span",{class:"feature",children:"Duration"})," :"," ",Object(a.jsx)("span",{class:"value",children:"60 Days"})]}),Object(a.jsxs)("h4",{children:[Object(a.jsx)("span",{class:"feature",children:"Storage"})," :"," ",Object(a.jsx)("span",{class:"value",children:"50GB"})]})]}),Object(a.jsx)("div",{class:"price",children:Object(a.jsx)("h4",{children:"$50"})}),Object(a.jsx)("button",{class:"btn btn-block btn-primary",type:"submit",children:"BUY NOW"})]})}),Object(a.jsx)("div",{class:"col-md-5 col-lg-4",children:Object(a.jsxs)("div",{class:"item",children:[Object(a.jsx)("div",{class:"heading",children:Object(a.jsx)("h3",{children:"PREMIUM"})}),Object(a.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}),Object(a.jsxs)("div",{class:"features",children:[Object(a.jsxs)("h4",{children:[Object(a.jsx)("span",{class:"feature",children:"Full Support"})," :"," ",Object(a.jsx)("span",{class:"value",children:"Yes"})]}),Object(a.jsxs)("h4",{children:[Object(a.jsx)("span",{class:"feature",children:"Duration"})," :"," ",Object(a.jsx)("span",{class:"value",children:"120 Days"})]}),Object(a.jsxs)("h4",{children:[Object(a.jsx)("span",{class:"feature",children:"Storage"})," :"," ",Object(a.jsx)("span",{class:"value",children:"150GB"})]})]}),Object(a.jsx)("div",{class:"price",children:Object(a.jsx)("h4",{children:"$150"})}),Object(a.jsx)("button",{class:"btn btn-block btn-outline-primary",type:"submit",children:"BUY NOW"})]})})]})]})})}function G(){return Object(a.jsx)("section",{className:"bg-light",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("div",{className:"row align-items-center",style:{height:"70vh"},children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("img",{className:"col-md-10",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d2/Newspaper_Cover2.svg/1200px-Newspaper_Cover2.svg.png",alt:"Fake news"})})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col-md-8 d-flex flex-column align-items-start",children:[Object(a.jsx)("h1",{className:"text-left mb-4",children:"Save your text news!"}),Object(a.jsx)("p",{className:"text-left mb-5",children:"Explanation of why you are going to love it and the benefit!"}),Object(a.jsx)("button",{class:"btn btn-outline-secondary btn-lg",href:"classificator",type:"button",children:"Learn more"})]})})})]})})})}function Y(){m.userValue;return Object(a.jsxs)("div",{children:[Object(a.jsx)("section",{children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("div",{className:"row align-items-center vh-100",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col-md-8 d-flex flex-column align-items-start",children:[Object(a.jsx)("h1",{className:"text-left mb-4 display-4",children:"It's better than sliced bread!"}),Object(a.jsx)("p",{className:"text-left mb-5",children:"Tell the world how awesome your app is and why they should use it!!"}),Object(a.jsx)("button",{class:"btn btn-outline-secondary btn-lg",href:"classificator",type:"button",children:"Get Started"})]})})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("img",{className:"col-md-12 rounded",src:"https://cosmosmagazine.com/wp-content/uploads/2019/12/190108-fake-thumb.jpg",alt:"Fake news"})})})]})})}),Object(a.jsx)(G,{}),Object(a.jsx)(_,{})]})}var $=t(2),z=t(3);function H(e){var s=e.history,t=e.location,c=z.b().shape({email:z.d().email("Email is invalid").required("Email is required"),password:z.d().required("Password is required")});return Object(a.jsx)("section",{className:"container-fluid",children:Object(a.jsxs)("div",{className:"row vh-100",children:[Object(a.jsxs)("div",{className:"col-md-6 d-flex flex-column justify-content-center",children:[Object(a.jsx)("div",{className:"row d-flex align-items-center justify-content-center",children:Object(a.jsx)("img",{className:"col-md-10 mb-5",src:"https://assets.publishing.service.gov.uk/government/uploads/system/uploads/image_data/file/58915/s960_newspapers-pile-960x640.jpg"})}),Object(a.jsx)("div",{className:"row d-flex flex-column align-items-center",children:Object(a.jsxs)("div",{className:"col-md-10",children:[Object(a.jsx)("h1",{className:"mb-4",children:"News classificator app"}),Object(a.jsx)("p",{children:"Tell the world how awesome your app is and why they should use it!!Tell the world how awesome your app is and why they should use it!!"})]})})]}),Object(a.jsx)("div",{className:"col-md-6 d-flex align-items-center justify-content-center bg-light",children:Object(a.jsx)($.d,{initialValues:{email:"",password:""},validationSchema:c,onSubmit:function(e,c){var a=e.email,n=e.password,r=c.setSubmitting;N.clear(),m.login(a,n).then((function(){var e=(t.state||{from:{pathname:"/"}}).from;s.push(e)})).catch((function(e){r(!1),N.error(e)}))},children:function(e){var s=e.errors,t=e.touched,c=e.isSubmitting;return Object(a.jsxs)($.c,{children:[Object(a.jsx)("h1",{className:"display-4 m-0",children:"Welcome back!"}),Object(a.jsxs)("div",{className:"d-flex align-items-baseline justify-content-center",children:[Object(a.jsx)("p",{children:"Don't have an account? "}),Object(a.jsx)(l.b,{to:"register",className:"btn btn-link p-0 pl-2",children:"Register"})]}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)($.b,{placeholder:"Email",name:"email",type:"text",className:"form-control"+(s.email&&t.email?" is-invalid":"")}),Object(a.jsx)($.a,{name:"email",component:"div",className:"invalid-feedback text-left"})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)($.b,{placeholder:"Password",name:"password",type:"password",className:"form-control"+(s.password&&t.password?" is-invalid":"")}),Object(a.jsx)($.a,{name:"password",component:"div",className:"invalid-feedback text-left"})]}),Object(a.jsxs)("div",{className:"form-row",children:[Object(a.jsx)("div",{className:"form-group col d-flex justify-content-start",children:Object(a.jsxs)("button",{type:"submit",disabled:c,className:"btn btn-primary",children:[c&&Object(a.jsx)("span",{className:"spinner-border spinner-border-sm mr-1"}),"Login"]})}),Object(a.jsx)("div",{className:"form-group col text-right",children:Object(a.jsx)(l.b,{to:"forgot-password",className:"btn btn-link pr-0",children:"Forgot Password?"})})]})]})]})}})})]})})}function K(e){var s=e.history,t=z.b().shape({title:z.d().required("Title is required"),firstName:z.d().required("First Name is required"),lastName:z.d().required("Last Name is required"),email:z.d().email("Email is invalid").required("Email is required"),password:z.d().min(6,"Password must be at least 6 characters").required("Password is required"),confirmPassword:z.d().oneOf([z.c("password"),null],"Passwords must match").required("Confirm Password is required"),acceptTerms:z.a().oneOf([!0],"Accept Terms & Conditions is required")});return Object(a.jsx)($.d,{initialValues:{title:"",firstName:"",lastName:"",email:"",password:"",confirmPassword:"",acceptTerms:!1},validationSchema:t,onSubmit:function(e,t){var c=t.setStatus,a=t.setSubmitting;c(),m.register(e).then((function(){N.success("Registration successful, please check your email for verification instructions",{keepAfterRouteChange:!0}),s.push("login")})).catch((function(e){a(!1),N.error(e)}))},children:function(e){var s=e.errors,t=e.touched,c=e.isSubmitting;return Object(a.jsxs)($.c,{children:[Object(a.jsx)("h3",{className:"card-header",children:"Register"}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsxs)("div",{className:"form-row",children:[Object(a.jsxs)("div",{className:"form-group col",children:[Object(a.jsx)("label",{children:"Title"}),Object(a.jsxs)($.b,{name:"title",as:"select",className:"form-control"+(s.title&&t.title?" is-invalid":""),children:[Object(a.jsx)("option",{value:""}),Object(a.jsx)("option",{value:"Mr",children:"Mr"}),Object(a.jsx)("option",{value:"Mrs",children:"Mrs"}),Object(a.jsx)("option",{value:"Miss",children:"Miss"}),Object(a.jsx)("option",{value:"Ms",children:"Ms"})]}),Object(a.jsx)($.a,{name:"title",component:"div",className:"invalid-feedback"})]}),Object(a.jsxs)("div",{className:"form-group col-5",children:[Object(a.jsx)("label",{children:"First Name"}),Object(a.jsx)($.b,{name:"firstName",type:"text",className:"form-control"+(s.firstName&&t.firstName?" is-invalid":"")}),Object(a.jsx)($.a,{name:"firstName",component:"div",className:"invalid-feedback"})]}),Object(a.jsxs)("div",{className:"form-group col-5",children:[Object(a.jsx)("label",{children:"Last Name"}),Object(a.jsx)($.b,{name:"lastName",type:"text",className:"form-control"+(s.lastName&&t.lastName?" is-invalid":"")}),Object(a.jsx)($.a,{name:"lastName",component:"div",className:"invalid-feedback"})]})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Email"}),Object(a.jsx)($.b,{name:"email",type:"text",className:"form-control"+(s.email&&t.email?" is-invalid":"")}),Object(a.jsx)($.a,{name:"email",component:"div",className:"invalid-feedback"})]}),Object(a.jsxs)("div",{className:"form-row",children:[Object(a.jsxs)("div",{className:"form-group col",children:[Object(a.jsx)("label",{children:"Password"}),Object(a.jsx)($.b,{name:"password",type:"password",className:"form-control"+(s.password&&t.password?" is-invalid":"")}),Object(a.jsx)($.a,{name:"password",component:"div",className:"invalid-feedback"})]}),Object(a.jsxs)("div",{className:"form-group col",children:[Object(a.jsx)("label",{children:"Confirm Password"}),Object(a.jsx)($.b,{name:"confirmPassword",type:"password",className:"form-control"+(s.confirmPassword&&t.confirmPassword?" is-invalid":"")}),Object(a.jsx)($.a,{name:"confirmPassword",component:"div",className:"invalid-feedback"})]})]}),Object(a.jsxs)("div",{className:"form-group form-check",children:[Object(a.jsx)($.b,{type:"checkbox",name:"acceptTerms",id:"acceptTerms",className:"form-check-input "+(s.acceptTerms&&t.acceptTerms?" is-invalid":"")}),Object(a.jsx)("label",{htmlFor:"acceptTerms",className:"form-check-label",children:"Accept Terms & Conditions"}),Object(a.jsx)($.a,{name:"acceptTerms",component:"div",className:"invalid-feedback"})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsxs)("button",{type:"submit",disabled:c,className:"btn btn-primary",children:[c&&Object(a.jsx)("span",{className:"spinner-border spinner-border-sm mr-1"}),"Register"]}),Object(a.jsx)(l.b,{to:"login",className:"btn btn-link",children:"Cancel"})]})]})]})}})}var Q=t(71),X=t.n(Q);function Z(e){var s=e.history,t=e.location,c="Verifying",r="Failed",i=Object(n.useState)(c),o=Object(R.a)(i,2),d=o[0],j=o[1];return Object(n.useEffect)((function(){var e=X.a.parse(t.search).token;s.replace(t.pathname),m.verifyEmail(e).then((function(){N.success("Verification successful, you can now login",{keepAfterRouteChange:!0}),s.push("login")})).catch((function(){j(r)}))}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{className:"card-header",children:"Verify Email"}),Object(a.jsx)("div",{className:"card-body",children:function(){switch(d){case c:return Object(a.jsx)("div",{children:"Verifying..."});case r:return Object(a.jsxs)("div",{children:["Verification failed, you can also verify your account using the"," ",Object(a.jsx)(l.b,{to:"forgot-password",children:"forgot password"})," page."]})}}()})]})}function ee(){var e=z.b().shape({email:z.d().email("Email is invalid").required("Email is required")});return Object(a.jsx)($.d,{initialValues:{email:""},validationSchema:e,onSubmit:function(e,s){var t=e.email,c=s.setSubmitting;N.clear(),m.forgotPassword(t).then((function(){return N.success("Please check your email for password reset instructions")})).catch((function(e){return N.error(e)})).finally((function(){return c(!1)}))},children:function(e){var s=e.errors,t=e.touched,c=e.isSubmitting;return Object(a.jsxs)($.c,{children:[Object(a.jsx)("h3",{className:"card-header",children:"Forgot Password"}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Email"}),Object(a.jsx)($.b,{name:"email",type:"text",className:"form-control"+(s.email&&t.email?" is-invalid":"")}),Object(a.jsx)($.a,{name:"email",component:"div",className:"invalid-feedback"})]}),Object(a.jsx)("div",{className:"form-row",children:Object(a.jsxs)("div",{className:"form-group col",children:[Object(a.jsxs)("button",{type:"submit",disabled:c,className:"btn btn-primary",children:[c&&Object(a.jsx)("span",{className:"spinner-border spinner-border-sm mr-1"}),"Submit"]}),Object(a.jsx)(l.b,{to:"login",className:"btn btn-link",children:"Cancel"})]})})]})]})}})}function se(e){var s=e.history,t=e.location,c="Validating",r="Valid",i="Invalid",o=Object(n.useState)(null),d=Object(R.a)(o,2),j=d[0],b=d[1],u=Object(n.useState)(c),h=Object(R.a)(u,2),p=h[0],x=h[1];return Object(n.useEffect)((function(){var e=X.a.parse(t.search).token;s.replace(t.pathname),m.validateResetToken(e).then((function(){b(e),x(r)})).catch((function(){x(i)}))}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{className:"card-header",children:"Reset Password"}),Object(a.jsx)("div",{className:"card-body",children:function(){switch(p){case r:return function(){var e=z.b().shape({password:z.d().min(6,"Password must be at least 6 characters").required("Password is required"),confirmPassword:z.d().oneOf([z.c("password"),null],"Passwords must match").required("Confirm Password is required")});return Object(a.jsx)($.d,{initialValues:{password:"",confirmPassword:""},validationSchema:e,onSubmit:function(e,t){var c=e.password,a=e.confirmPassword,n=t.setSubmitting;N.clear(),m.resetPassword({token:j,password:c,confirmPassword:a}).then((function(){N.success("Password reset successful, you can now login",{keepAfterRouteChange:!0}),s.push("login")})).catch((function(e){n(!1),N.error(e)}))},children:function(e){var s=e.errors,t=e.touched,c=e.isSubmitting;return Object(a.jsxs)($.c,{children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Password"}),Object(a.jsx)($.b,{name:"password",type:"password",className:"form-control"+(s.password&&t.password?" is-invalid":"")}),Object(a.jsx)($.a,{name:"password",component:"div",className:"invalid-feedback"})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Confirm Password"}),Object(a.jsx)($.b,{name:"confirmPassword",type:"password",className:"form-control"+(s.confirmPassword&&t.confirmPassword?" is-invalid":"")}),Object(a.jsx)($.a,{name:"confirmPassword",component:"div",className:"invalid-feedback"})]}),Object(a.jsx)("div",{className:"form-row",children:Object(a.jsxs)("div",{className:"form-group col",children:[Object(a.jsxs)("button",{type:"submit",disabled:c,className:"btn btn-primary",children:[c&&Object(a.jsx)("span",{className:"spinner-border spinner-border-sm mr-1"}),"Reset Password"]}),Object(a.jsx)(l.b,{to:"/login",className:"btn btn-link",children:"Cancel"})]})})]})}})}();case i:return Object(a.jsxs)("div",{children:["Token validation failed, if the token has expired you can get a new one at the ",Object(a.jsx)(l.b,{to:"forgot-password",children:"forgot password"})," page."]});case c:return Object(a.jsx)("div",{children:"Validating token..."})}}()})]})}function te(e){var s=e.history,t=e.match.path;return Object(n.useEffect)((function(){m.userValue&&s.push("/")}),[]),Object(a.jsxs)(U.d,{children:[Object(a.jsx)(U.b,{path:"".concat(t,"/login"),component:H}),Object(a.jsx)(U.b,{path:"".concat(t,"/register"),component:K}),Object(a.jsx)(U.b,{path:"".concat(t,"/verify-email"),component:Z}),Object(a.jsx)(U.b,{path:"".concat(t,"/forgot-password"),component:ee}),Object(a.jsx)(U.b,{path:"".concat(t,"/reset-password"),component:se})]})}function ce(e){var s=e.match.path,t=m.userValue;return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"My Profile"}),Object(a.jsxs)("p",{children:[Object(a.jsx)("strong",{children:"Name: "})," ",t.title," ",t.firstName," ",t.lastName,Object(a.jsx)("br",{}),Object(a.jsx)("strong",{children:"Email: "})," ",t.email]}),Object(a.jsx)("p",{children:Object(a.jsx)(l.b,{to:"".concat(s,"/update"),children:"Update Profile"})})]})}function ae(e){var s=e.history,t=m.userValue,c={title:t.title,firstName:t.firstName,lastName:t.lastName,email:t.email,password:"",confirmPassword:""},r=z.b().shape({title:z.d().required("Title is required"),firstName:z.d().required("First Name is required"),lastName:z.d().required("Last Name is required"),email:z.d().email("Email is invalid").required("Email is required"),password:z.d().min(6,"Password must be at least 6 characters"),confirmPassword:z.d().when("password",(function(e,s){if(e)return s.required("Confirm Password is required")})).oneOf([z.c("password")],"Passwords must match")});var i=Object(n.useState)(!1),o=Object(R.a)(i,2),d=o[0];o[1];return Object(a.jsx)($.d,{initialValues:c,validationSchema:r,onSubmit:function(e,c){var a=c.setStatus,n=c.setSubmitting;a(),m.update(t.id,e).then((function(){N.success("Update successful",{keepAfterRouteChange:!0}),s.push(".")})).catch((function(e){n(!1),N.error(e)}))},children:function(e){var s=e.errors,t=e.touched,c=e.isSubmitting;return Object(a.jsxs)($.c,{children:[Object(a.jsx)("h1",{children:"Update Profile"}),Object(a.jsxs)("div",{className:"form-row",children:[Object(a.jsxs)("div",{className:"form-group col",children:[Object(a.jsx)("label",{children:"Title"}),Object(a.jsxs)($.b,{name:"title",as:"select",className:"form-control"+(s.title&&t.title?" is-invalid":""),children:[Object(a.jsx)("option",{value:""}),Object(a.jsx)("option",{value:"Mr",children:"Mr"}),Object(a.jsx)("option",{value:"Mrs",children:"Mrs"}),Object(a.jsx)("option",{value:"Miss",children:"Miss"}),Object(a.jsx)("option",{value:"Ms",children:"Ms"})]}),Object(a.jsx)($.a,{name:"title",component:"div",className:"invalid-feedback"})]}),Object(a.jsxs)("div",{className:"form-group col-5",children:[Object(a.jsx)("label",{children:"First Name"}),Object(a.jsx)($.b,{name:"firstName",type:"text",className:"form-control"+(s.firstName&&t.firstName?" is-invalid":"")}),Object(a.jsx)($.a,{name:"firstName",component:"div",className:"invalid-feedback"})]}),Object(a.jsxs)("div",{className:"form-group col-5",children:[Object(a.jsx)("label",{children:"Last Name"}),Object(a.jsx)($.b,{name:"lastName",type:"text",className:"form-control"+(s.lastName&&t.lastName?" is-invalid":"")}),Object(a.jsx)($.a,{name:"lastName",component:"div",className:"invalid-feedback"})]})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Email"}),Object(a.jsx)($.b,{name:"email",type:"text",className:"form-control"+(s.email&&t.email?" is-invalid":"")}),Object(a.jsx)($.a,{name:"email",component:"div",className:"invalid-feedback"})]}),Object(a.jsx)("h3",{className:"pt-3",children:"Change Password"}),Object(a.jsx)("p",{children:"Leave blank to keep the same password"}),Object(a.jsxs)("div",{className:"form-row",children:[Object(a.jsxs)("div",{className:"form-group col",children:[Object(a.jsx)("label",{children:"Password"}),Object(a.jsx)($.b,{name:"password",type:"password",className:"form-control"+(s.password&&t.password?" is-invalid":"")}),Object(a.jsx)($.a,{name:"password",component:"div",className:"invalid-feedback"})]}),Object(a.jsxs)("div",{className:"form-group col",children:[Object(a.jsx)("label",{children:"Confirm Password"}),Object(a.jsx)($.b,{name:"confirmPassword",type:"password",className:"form-control"+(s.confirmPassword&&t.confirmPassword?" is-invalid":"")}),Object(a.jsx)($.a,{name:"confirmPassword",component:"div",className:"invalid-feedback"})]})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsxs)("button",{type:"submit",disabled:c,className:"btn btn-primary mr-2",children:[c&&Object(a.jsx)("span",{className:"spinner-border spinner-border-sm mr-1"}),"Update"]}),Object(a.jsx)("button",{type:"button",onClick:function(){},className:"btn btn-danger",style:{width:"75px"},disabled:d,children:d?Object(a.jsx)("span",{className:"spinner-border spinner-border-sm"}):Object(a.jsx)("span",{children:"Delete"})}),Object(a.jsx)(l.b,{to:".",className:"btn btn-link",children:"Cancel"})]})]})}})}function ne(e){var s=e.match.path;return Object(a.jsx)("div",{className:"p-4",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)(U.d,{children:[Object(a.jsx)(U.b,{exact:!0,path:s,component:ce}),Object(a.jsx)(U.b,{path:"".concat(s,"/update"),component:ae})]})})})}function re(e){var s=e.match.path;return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Admin"}),Object(a.jsx)("p",{children:"This section can only be accessed by administrators."}),Object(a.jsx)("p",{children:Object(a.jsx)(l.b,{to:"".concat(s,"/users"),children:"Manage Users"})})]})}function ie(e){var s=e.match.path,t=Object(n.useState)(null),c=Object(R.a)(t,2),r=c[0],i=c[1];return Object(n.useEffect)((function(){m.getAll().then((function(e){return i(e)}))}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Users"}),Object(a.jsx)("p",{children:"All users from secure (admin only) api end point:"}),Object(a.jsx)(l.b,{to:"".concat(s,"/add"),className:"btn btn-sm btn-success mb-2",children:"Add User"}),Object(a.jsxs)("table",{className:"table table-striped",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{style:{width:"30%"},children:"Name"}),Object(a.jsx)("th",{style:{width:"30%"},children:"Email"}),Object(a.jsx)("th",{style:{width:"30%"},children:"Role"}),Object(a.jsx)("th",{style:{width:"10%"}})]})}),Object(a.jsxs)("tbody",{children:[r&&r.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsxs)("td",{children:[e.title," ",e.firstName," ",e.lastName]}),Object(a.jsx)("td",{children:e.email}),Object(a.jsx)("td",{children:e.role}),Object(a.jsxs)("td",{style:{whiteSpace:"nowrap"},children:[Object(a.jsx)(l.b,{to:"".concat(s,"/edit/").concat(e.id),className:"btn btn-sm btn-primary mr-1",children:"Edit"}),Object(a.jsx)("button",{onClick:function(){return s=e.id,i(r.map((function(e){return e.id===s&&(e.isDeleting=!0),e}))),void m.delete(s).then((function(){i((function(e){return e.filter((function(e){return e.id!==s}))}))}));var s},className:"btn btn-sm btn-danger",style:{width:"60px"},disabled:e.isDeleting,children:e.isDeleting?Object(a.jsx)("span",{className:"spinner-border spinner-border-sm"}):Object(a.jsx)("span",{children:"Delete"})})]})]},e.id)})),!r&&Object(a.jsx)("tr",{children:Object(a.jsx)("td",{colSpan:"4",className:"text-center",children:Object(a.jsx)("span",{className:"spinner-border spinner-border-lg align-center"})})})]})]})]})}function le(e){var s=e.history,t=e.match.params.id,c=!t,n=z.b().shape({title:z.d().required("Title is required"),firstName:z.d().required("First Name is required"),lastName:z.d().required("Last Name is required"),email:z.d().email("Email is invalid").required("Email is required"),role:z.d().required("Role is required"),password:z.d().concat(c?z.d().required("Password is required"):null).min(6,"Password must be at least 6 characters"),confirmPassword:z.d().when("password",(function(e,s){if(e)return s.required("Confirm Password is required")})).oneOf([z.c("password")],"Passwords must match")});return Object(a.jsx)($.d,{initialValues:{title:"",firstName:"",lastName:"",email:"",role:"",password:"",confirmPassword:""},validationSchema:n,onSubmit:function(e,a){var n=a.setStatus,r=a.setSubmitting;n(),c?function(e,t){m.create(e).then((function(){N.success("User added successfully",{keepAfterRouteChange:!0}),s.push(".")})).catch((function(e){t(!1),N.error(e)}))}(e,r):function(e,t,c){m.update(e,t).then((function(){N.success("Update successful",{keepAfterRouteChange:!0}),s.push("..")})).catch((function(e){c(!1),N.error(e)}))}(t,e,r)}})}function oe(e){var s=e.match.path;return Object(a.jsxs)(U.d,{children:[Object(a.jsx)(U.b,{exact:!0,path:s,component:ie}),Object(a.jsx)(U.b,{path:"".concat(s,"/add"),component:le}),Object(a.jsx)(U.b,{path:"".concat(s,"/edit/:id"),component:le})]})}function de(e){var s=e.match.path;return Object(a.jsx)("div",{className:"p-4",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)(U.d,{children:[Object(a.jsx)(U.b,{exact:!0,path:s,component:re}),Object(a.jsx)(U.b,{path:"".concat(s,"/users"),component:oe})]})})})}function je(e){e.history,e.location;var s=z.b().shape({title:z.d().required("Title is required"),text:z.d().required("News text is required")});return Object(a.jsx)("section",{className:"vh-100",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h1",{className:"display-4 pt-5",children:"News classificator"}),Object(a.jsx)($.d,{initialValues:{title:"",text:""},validationSchema:s,onSubmit:function(e,s){var t=e.title,c=e.text,a=s.setSubmitting;N.clear(),q.processText(t,c).then((function(e){console.log("------",e),a(!1)})).catch((function(e){a(!1),N.error(e)}))},children:function(e){var s=e.errors,t=e.touched,c=e.isSubmitting;return Object(a.jsx)($.c,{children:Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)($.b,{placeholder:"Title",name:"title",type:"text",className:"form-control"+(s.title&&t.title?" is-invalid":"")}),Object(a.jsx)($.a,{name:"title",component:"div",className:"invalid-feedback text-left"})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)($.b,{as:"textarea",rows:"16",maxlength:"2000",placeholder:"Text",name:"text",type:"text",className:"form-control"+(s.text&&t.text?" is-invalid":"")}),Object(a.jsx)($.a,{name:"text",component:"div",className:"invalid-feedback text-left"})]}),Object(a.jsx)("div",{className:"form-row",children:Object(a.jsx)("div",{className:"form-group col d-flex justify-content-start",children:Object(a.jsxs)("button",{type:"submit",disabled:c,className:"btn btn-outline-primary btn-lg",children:[c&&Object(a.jsx)("span",{className:"spinner-border spinner-border-sm mr-1"}),"Classify text"]})})})]})})}})]})})}t(114);var be=function(){var e=Object(U.g)().pathname,s=Object(n.useState)({}),t=Object(R.a)(s,2),c=(t[0],t[1]);return Object(n.useEffect)((function(){return m.user.subscribe((function(e){return c(e)})).unsubscribe}),[]),Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(B,{}),Object(a.jsx)(L,{}),Object(a.jsxs)(U.d,{children:[Object(a.jsx)(U.a,{from:"/:url*(/+)",to:e.slice(0,-1)}),Object(a.jsx)(W,{exact:!0,path:"/",component:Y}),Object(a.jsx)(W,{path:"/classificator",component:je}),Object(a.jsx)(W,{path:"/archive",component:ne}),Object(a.jsx)(W,{path:"/admin",roles:[M],component:de}),Object(a.jsx)(U.b,{path:"/account",component:te}),Object(a.jsx)(U.a,{from:"*",to:"/"})]})]})};t(115);m.refreshToken().finally((function(){Object(i.render)(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(l.a,{history:A,children:Object(a.jsx)(be,{})})}),document.getElementById("root"))}))},44:function(e){e.exports=JSON.parse('{"apiUrl":"http://localhost:4000","apiUrlProduction":"https://news-classifier-server.herokuapp.com"}')},97:function(e,s,t){}},[[116,1,2]]]);
//# sourceMappingURL=main.771e96a8.chunk.js.map