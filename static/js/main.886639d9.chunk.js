(this["webpackJsonpnews-classifier-client"]=this["webpackJsonpnews-classifier-client"]||[]).push([[0],{114:function(e,s,t){},116:function(e,s,t){"use strict";t.r(s);var c,a=t(0),n=t(1),r=t.n(n),i=t(84),l=t.n(i),o=t(5),d=t(7),j=t(44),b=new(t(120).a)(null),m="".concat(j.apiUrl,"/accounts"),u={login:function(e,s){return q.post("".concat(m,"/authenticate"),{email:e,password:s}).then((function(e){return b.next(e),f(),e}))},logout:h,refreshToken:p,register:function(e){return q.post("".concat(m,"/register"),e)},verifyEmail:function(e){return q.post("".concat(m,"/verify-email"),{token:e})},forgotPassword:function(e){return q.post("".concat(m,"/forgot-password"),{email:e})},validateResetToken:function(e){return q.post("".concat(m,"/validate-reset-token"),{token:e})},resetPassword:function(e){var s=e.token,t=e.password,c=e.confirmPassword;return q.post("".concat(m,"/reset-password"),{token:s,password:t,confirmPassword:c})},getAll:function(){return q.get(m)},getById:function(e){return q.get("".concat(m,"/").concat(e))},create:function(e){return q.post(m,e)},update:function(e,s){return q.put("".concat(m,"/").concat(e),s).then((function(e){return e.id===b.value.id&&(e=Object(d.a)(Object(d.a)({},b.value),e),b.next(e)),e}))},delete:function(e){return q.delete("".concat(m,"/").concat(e)).then((function(s){return e===b.value.id&&h(),s}))},user:b.asObservable(),get userValue(){return b.value}};function h(){q.post("".concat(m,"/revoke-token"),{}),clearTimeout(c),b.next(null),A.push("/account/login")}function p(){return q.post("".concat(m,"/refresh-token"),{}).then((function(e){return b.next(e),f(),e}))}function f(){var e=JSON.parse(atob(b.value.jwtToken.split(".")[1])),s=new Date(1e3*e.exp).getTime()-Date.now()-6e4;c=setTimeout(p,s)}var O=t(88),x=t(121),v=new O.a,N="default-alert",w={onAlert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N;return v.asObservable().pipe(Object(x.a)((function(s){return s&&s.id===e})))},success:function(e,s){S(Object(d.a)(Object(d.a)({},s),{},{type:g,message:e}))},error:function(e,s){S(Object(d.a)(Object(d.a)({},s),{},{type:y,message:e}))},info:function(e,s){S(Object(d.a)(Object(d.a)({},s),{},{type:k,message:e}))},warn:function(e,s){S(Object(d.a)(Object(d.a)({},s),{},{type:P,message:e}))},alert:S,clear:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N;v.next({id:e})}},g="Success",y="Error",k="Info",P="Warning";function S(e){e.id=e.id||N,e.autoClose=void 0===e.autoClose||e.autoClose,v.next(e)}"".concat(j.apiUrl,"/classificator");var q={get:function(e){var s={method:"GET",headers:T(e)};return fetch(e,s).then(C)},post:function(e,s){var t={method:"POST",headers:Object(d.a)({"Content-Type":"application/json"},T(e)),credentials:"include",body:JSON.stringify(s)};return fetch(e,t).then(C)},put:function(e,s){var t={method:"PUT",headers:Object(d.a)({"Content-Type":"application/json"},T(e)),body:JSON.stringify(s)};return fetch(e,t).then(C)},delete:function(e){var s={method:"DELETE",headers:T(e)};return fetch(e,s).then(C)}};function T(e){var s=u.userValue,t=s&&s.jwtToken,c=e.startsWith(j.apiUrl);return t&&c?{Authorization:"Bearer ".concat(s.jwtToken)}:{}}function C(e){return e.text().then((function(s){var t=s&&JSON.parse(s);if(!e.ok){[401,403].includes(e.status)&&u.userValue&&u.logout();var c=t&&t.message||e.statusText;return Promise.reject(c)}return t}))}var E=t(16),A=Object(E.a)(),M="Admin",V=(t(97),t(12)),R=t(8),U=t(42),D=t(89);function F(e){var s=e.id,t=e.fade,c=Object(n.useState)([]),r=Object(V.a)(c,2),i=r[0],l=r[1];function o(e){if(t){var s=Object(d.a)(Object(d.a)({},e),{},{fade:!0});l((function(t){return t.map((function(t){return t===e?s:t}))})),setTimeout((function(){l((function(e){return e.filter((function(e){return e!==s}))}))}),250)}else l((function(s){return s.filter((function(s){return s!==e}))}))}function j(e){var s;if(e){var t=["alert","alert-dismissable"],c=(s={},Object(U.a)(s,g,"alert alert-success"),Object(U.a)(s,y,"alert alert-danger"),Object(U.a)(s,k,"alert alert-info"),Object(U.a)(s,P,"alert alert-warning"),s);return t.push(c[e.type]),e.fade&&t.push("fade"),t.join(" ")}}return Object(n.useEffect)((function(){var e=w.onAlert(s).subscribe((function(e){e.message?(l((function(s){return[].concat(Object(D.a)(s),[e])})),e.autoClose&&setTimeout((function(){return o(e)}),3e3)):l((function(e){var s=e.filter((function(e){return e.keepAfterRouteChange}));return s.forEach((function(e){return delete e.keepAfterRouteChange})),s}))})),t=A.listen((function(e){e.pathname.endsWith("/")||w.clear(s)}));return function(){e.unsubscribe(),t()}}),[]),i.length?Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"m-3",children:i.map((function(e,s){return Object(a.jsxs)("div",{className:j(e),children:[Object(a.jsx)("a",{className:"close",onClick:function(){return o(e)},children:"\xd7"}),Object(a.jsx)("span",{dangerouslySetInnerHTML:{__html:e.message}})]},s)}))})}):null}function L(){var e=Object(n.useState)({}),s=Object(V.a)(e,2),t=s[0],c=s[1];return Object(n.useEffect)((function(){return u.user.subscribe((function(e){return c(e)})).unsubscribe}),[]),t?Object(a.jsxs)("div",{children:[Object(a.jsx)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:Object(a.jsxs)("div",{className:"navbar-nav",children:[Object(a.jsx)(o.c,{exact:!0,to:"/",className:"nav-item nav-link",children:"Main"}),Object(a.jsx)(o.c,{to:"/classificator",className:"nav-item nav-link",children:"Classificator"}),Object(a.jsx)(o.c,{to:"/archive",className:"nav-item nav-link",children:"Archive"}),t.role===M&&Object(a.jsx)(o.c,{to:"/admin",className:"nav-item nav-link",children:"Admin"}),Object(a.jsx)("a",{onClick:u.logout,className:"nav-item nav-link",children:"Sign out"})]})}),Object(a.jsx)(R.b,{path:"/admin",component:B})]}):null}function B(e){var s=e.match.path;return Object(a.jsx)("nav",{className:"admin-nav navbar navbar-expand navbar-light",children:Object(a.jsx)("div",{className:"navbar-nav",children:Object(a.jsx)(o.c,{to:"".concat(s,"/users"),className:"nav-item nav-link",children:"Users"})})})}F.defaultProps={id:"default-alert",fade:!0};var I=t(90);function J(e){var s=e.component,t=e.roles,c=Object(I.a)(e,["component","roles"]);return Object(a.jsx)(R.b,Object(d.a)(Object(d.a)({},c),{},{render:function(e){var c=u.userValue;return c?t&&-1===t.indexOf(c.role)?Object(a.jsx)(R.a,{to:{pathname:"/"}}):Object(a.jsx)(s,Object(d.a)({},e)):Object(a.jsx)(R.a,{to:{pathname:"/account/login",state:{from:e.location}}})}}))}function W(){return Object(a.jsx)("section",{class:"pricing-table",children:Object(a.jsxs)("div",{class:"container",children:[Object(a.jsxs)("div",{class:"block-heading",children:[Object(a.jsx)("h2",{children:"Our Pricing"}),Object(a.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc quam urna, dignissim nec auctor in, mattis vitae leo."})]}),Object(a.jsxs)("div",{class:"row justify-content-md-center",children:[Object(a.jsx)("div",{class:"col-md-5 col-lg-4",children:Object(a.jsxs)("div",{class:"item",children:[Object(a.jsx)("div",{class:"heading",children:Object(a.jsx)("h3",{children:"BASIC"})}),Object(a.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}),Object(a.jsxs)("div",{class:"features",children:[Object(a.jsxs)("h4",{children:[Object(a.jsx)("span",{class:"feature",children:"Full Support"})," :"," ",Object(a.jsx)("span",{class:"value",children:"No"})]}),Object(a.jsxs)("h4",{children:[Object(a.jsx)("span",{class:"feature",children:"Duration"})," :"," ",Object(a.jsx)("span",{class:"value",children:"30 Days"})]}),Object(a.jsxs)("h4",{children:[Object(a.jsx)("span",{class:"feature",children:"Storage"})," :"," ",Object(a.jsx)("span",{class:"value",children:"10GB"})]})]}),Object(a.jsx)("div",{class:"price",children:Object(a.jsx)("h4",{children:"$25"})}),Object(a.jsx)("button",{class:"btn btn-block btn-outline-primary",type:"submit",children:"BUY NOW"})]})}),Object(a.jsx)("div",{class:"col-md-5 col-lg-4",children:Object(a.jsxs)("div",{class:"item",children:[Object(a.jsx)("div",{class:"ribbon",children:"Best Value"}),Object(a.jsx)("div",{class:"heading",children:Object(a.jsx)("h3",{children:"PRO"})}),Object(a.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}),Object(a.jsxs)("div",{class:"features",children:[Object(a.jsxs)("h4",{children:[Object(a.jsx)("span",{class:"feature",children:"Full Support"})," :"," ",Object(a.jsx)("span",{class:"value",children:"Yes"})]}),Object(a.jsxs)("h4",{children:[Object(a.jsx)("span",{class:"feature",children:"Duration"})," :"," ",Object(a.jsx)("span",{class:"value",children:"60 Days"})]}),Object(a.jsxs)("h4",{children:[Object(a.jsx)("span",{class:"feature",children:"Storage"})," :"," ",Object(a.jsx)("span",{class:"value",children:"50GB"})]})]}),Object(a.jsx)("div",{class:"price",children:Object(a.jsx)("h4",{children:"$50"})}),Object(a.jsx)("button",{class:"btn btn-block btn-primary",type:"submit",children:"BUY NOW"})]})}),Object(a.jsx)("div",{class:"col-md-5 col-lg-4",children:Object(a.jsxs)("div",{class:"item",children:[Object(a.jsx)("div",{class:"heading",children:Object(a.jsx)("h3",{children:"PREMIUM"})}),Object(a.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}),Object(a.jsxs)("div",{class:"features",children:[Object(a.jsxs)("h4",{children:[Object(a.jsx)("span",{class:"feature",children:"Full Support"})," :"," ",Object(a.jsx)("span",{class:"value",children:"Yes"})]}),Object(a.jsxs)("h4",{children:[Object(a.jsx)("span",{class:"feature",children:"Duration"})," :"," ",Object(a.jsx)("span",{class:"value",children:"120 Days"})]}),Object(a.jsxs)("h4",{children:[Object(a.jsx)("span",{class:"feature",children:"Storage"})," :"," ",Object(a.jsx)("span",{class:"value",children:"150GB"})]})]}),Object(a.jsx)("div",{class:"price",children:Object(a.jsx)("h4",{children:"$150"})}),Object(a.jsx)("button",{class:"btn btn-block btn-outline-primary",type:"submit",children:"BUY NOW"})]})})]})]})})}function Y(){return Object(a.jsx)("section",{className:"bg-light",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("div",{className:"row align-items-center",style:{height:"70vh"},children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("img",{className:"col-md-10",src:"https://assets.stickpng.com/images/5a0acb825a997e1c2cea10bf.png",alt:"Fake news"})})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col-md-8 d-flex flex-column align-items-start",children:[Object(a.jsx)("h1",{className:"text-left mb-4",children:"Save your text news!"}),Object(a.jsx)("p",{className:"text-left mb-5",children:"Explanation of why you are going to love it and the benefit!"}),Object(a.jsx)("button",{class:"btn btn-outline-secondary btn-lg",href:"classificator",type:"button",children:"Learn more"})]})})})]})})})}function G(){u.userValue;return Object(a.jsxs)("div",{children:[Object(a.jsx)("section",{children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("div",{className:"row align-items-center vh-100",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col-md-8 d-flex flex-column align-items-start",children:[Object(a.jsx)("h1",{className:"text-left mb-4 display-4",children:"It's better than sliced bread!"}),Object(a.jsx)("p",{className:"text-left mb-5",children:"Tell the world how awesome your app is and why they should use it!!"}),Object(a.jsx)("button",{class:"btn btn-outline-secondary btn-lg",href:"classificator",type:"button",children:"Get Started"})]})})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("img",{className:"col-md-12 rounded",src:"https://cosmosmagazine.com/wp-content/uploads/2019/12/190108-fake-thumb.jpg",alt:"Fake news"})})})]})})}),Object(a.jsx)(Y,{}),Object(a.jsx)(W,{})]})}var _=t(2),$=t(4);function z(e){var s=e.history,t=e.location,c=$.b().shape({email:$.d().email("Email is invalid").required("Email is required"),password:$.d().required("Password is required")});return Object(a.jsx)("section",{className:"container-fluid",children:Object(a.jsxs)("div",{className:"row vh-100",children:[Object(a.jsxs)("div",{className:"col-md-6 d-flex flex-column justify-content-center",children:[Object(a.jsx)("div",{className:"row d-flex align-items-center justify-content-center",children:Object(a.jsx)("img",{className:"col-md-10 mb-5",src:"https://assets.publishing.service.gov.uk/government/uploads/system/uploads/image_data/file/58915/s960_newspapers-pile-960x640.jpg"})}),Object(a.jsx)("div",{className:"row d-flex flex-column align-items-center",children:Object(a.jsxs)("div",{className:"col-md-10",children:[Object(a.jsx)("h1",{className:"mb-4",children:"News classificator app"}),Object(a.jsx)("p",{children:"Tell the world how awesome your app is and why they should use it!!Tell the world how awesome your app is and why they should use it!!"})]})})]}),Object(a.jsx)("div",{className:"col-md-6 d-flex align-items-center justify-content-center bg-light",children:Object(a.jsx)(_.d,{initialValues:{email:"",password:""},validationSchema:c,onSubmit:function(e,c){var a=e.email,n=e.password,r=c.setSubmitting;w.clear(),u.login(a,n).then((function(){var e=(t.state||{from:{pathname:"/"}}).from;s.push(e)})).catch((function(e){r(!1),w.error(e)}))},children:function(e){var s=e.errors,t=e.touched,c=e.isSubmitting;return Object(a.jsxs)(_.c,{children:[Object(a.jsx)("h1",{className:"display-4 m-0",children:"Welcome back!"}),Object(a.jsxs)("div",{className:"d-flex align-items-baseline justify-content-center",children:[Object(a.jsx)("p",{children:"Don't have an account? "}),Object(a.jsx)(o.b,{to:"register",className:"btn btn-link p-0 pl-2",children:"Register"})]}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)(_.b,{placeholder:"Email",name:"email",type:"text",className:"form-control"+(s.email&&t.email?" is-invalid":"")}),Object(a.jsx)(_.a,{name:"email",component:"div",className:"invalid-feedback text-left"})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)(_.b,{placeholder:"Password",name:"password",type:"password",className:"form-control"+(s.password&&t.password?" is-invalid":"")}),Object(a.jsx)(_.a,{name:"password",component:"div",className:"invalid-feedback text-left"})]}),Object(a.jsxs)("div",{className:"form-row",children:[Object(a.jsx)("div",{className:"form-group col d-flex justify-content-start",children:Object(a.jsxs)("button",{type:"submit",disabled:c,className:"btn btn-primary",children:[c&&Object(a.jsx)("span",{className:"spinner-border spinner-border-sm mr-1"}),"Login"]})}),Object(a.jsx)("div",{className:"form-group col text-right",children:Object(a.jsx)(o.b,{to:"forgot-password",className:"btn btn-link pr-0",children:"Forgot Password?"})})]})]})]})}})})]})})}function H(e){var s=e.history,t=$.b().shape({title:$.d().required("Title is required"),firstName:$.d().required("First Name is required"),lastName:$.d().required("Last Name is required"),email:$.d().email("Email is invalid").required("Email is required"),password:$.d().min(6,"Password must be at least 6 characters").required("Password is required"),confirmPassword:$.d().oneOf([$.c("password"),null],"Passwords must match").required("Confirm Password is required"),acceptTerms:$.a().oneOf([!0],"Accept Terms & Conditions is required")});return Object(a.jsx)(_.d,{initialValues:{title:"",firstName:"",lastName:"",email:"",password:"",confirmPassword:"",acceptTerms:!1},validationSchema:t,onSubmit:function(e,t){var c=t.setStatus,a=t.setSubmitting;c(),u.register(e).then((function(){w.success("Registration successful, please check your email for verification instructions",{keepAfterRouteChange:!0}),s.push("login")})).catch((function(e){a(!1),w.error(e)}))},children:function(e){var s=e.errors,t=e.touched,c=e.isSubmitting;return Object(a.jsxs)(_.c,{children:[Object(a.jsx)("h3",{className:"card-header",children:"Register"}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsxs)("div",{className:"form-row",children:[Object(a.jsxs)("div",{className:"form-group col",children:[Object(a.jsx)("label",{children:"Title"}),Object(a.jsxs)(_.b,{name:"title",as:"select",className:"form-control"+(s.title&&t.title?" is-invalid":""),children:[Object(a.jsx)("option",{value:""}),Object(a.jsx)("option",{value:"Mr",children:"Mr"}),Object(a.jsx)("option",{value:"Mrs",children:"Mrs"}),Object(a.jsx)("option",{value:"Miss",children:"Miss"}),Object(a.jsx)("option",{value:"Ms",children:"Ms"})]}),Object(a.jsx)(_.a,{name:"title",component:"div",className:"invalid-feedback"})]}),Object(a.jsxs)("div",{className:"form-group col-5",children:[Object(a.jsx)("label",{children:"First Name"}),Object(a.jsx)(_.b,{name:"firstName",type:"text",className:"form-control"+(s.firstName&&t.firstName?" is-invalid":"")}),Object(a.jsx)(_.a,{name:"firstName",component:"div",className:"invalid-feedback"})]}),Object(a.jsxs)("div",{className:"form-group col-5",children:[Object(a.jsx)("label",{children:"Last Name"}),Object(a.jsx)(_.b,{name:"lastName",type:"text",className:"form-control"+(s.lastName&&t.lastName?" is-invalid":"")}),Object(a.jsx)(_.a,{name:"lastName",component:"div",className:"invalid-feedback"})]})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Email"}),Object(a.jsx)(_.b,{name:"email",type:"text",className:"form-control"+(s.email&&t.email?" is-invalid":"")}),Object(a.jsx)(_.a,{name:"email",component:"div",className:"invalid-feedback"})]}),Object(a.jsxs)("div",{className:"form-row",children:[Object(a.jsxs)("div",{className:"form-group col",children:[Object(a.jsx)("label",{children:"Password"}),Object(a.jsx)(_.b,{name:"password",type:"password",className:"form-control"+(s.password&&t.password?" is-invalid":"")}),Object(a.jsx)(_.a,{name:"password",component:"div",className:"invalid-feedback"})]}),Object(a.jsxs)("div",{className:"form-group col",children:[Object(a.jsx)("label",{children:"Confirm Password"}),Object(a.jsx)(_.b,{name:"confirmPassword",type:"password",className:"form-control"+(s.confirmPassword&&t.confirmPassword?" is-invalid":"")}),Object(a.jsx)(_.a,{name:"confirmPassword",component:"div",className:"invalid-feedback"})]})]}),Object(a.jsxs)("div",{className:"form-group form-check",children:[Object(a.jsx)(_.b,{type:"checkbox",name:"acceptTerms",id:"acceptTerms",className:"form-check-input "+(s.acceptTerms&&t.acceptTerms?" is-invalid":"")}),Object(a.jsx)("label",{htmlFor:"acceptTerms",className:"form-check-label",children:"Accept Terms & Conditions"}),Object(a.jsx)(_.a,{name:"acceptTerms",component:"div",className:"invalid-feedback"})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsxs)("button",{type:"submit",disabled:c,className:"btn btn-primary",children:[c&&Object(a.jsx)("span",{className:"spinner-border spinner-border-sm mr-1"}),"Register"]}),Object(a.jsx)(o.b,{to:"login",className:"btn btn-link",children:"Cancel"})]})]})]})}})}var K=t(71),Q=t.n(K);function X(e){var s=e.history,t=e.location,c="Verifying",r="Failed",i=Object(n.useState)(c),l=Object(V.a)(i,2),d=l[0],j=l[1];return Object(n.useEffect)((function(){var e=Q.a.parse(t.search).token;s.replace(t.pathname),u.verifyEmail(e).then((function(){w.success("Verification successful, you can now login",{keepAfterRouteChange:!0}),s.push("login")})).catch((function(){j(r)}))}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{className:"card-header",children:"Verify Email"}),Object(a.jsx)("div",{className:"card-body",children:function(){switch(d){case c:return Object(a.jsx)("div",{children:"Verifying..."});case r:return Object(a.jsxs)("div",{children:["Verification failed, you can also verify your account using the"," ",Object(a.jsx)(o.b,{to:"forgot-password",children:"forgot password"})," page."]})}}()})]})}function Z(){var e=$.b().shape({email:$.d().email("Email is invalid").required("Email is required")});return Object(a.jsx)(_.d,{initialValues:{email:""},validationSchema:e,onSubmit:function(e,s){var t=e.email,c=s.setSubmitting;w.clear(),u.forgotPassword(t).then((function(){return w.success("Please check your email for password reset instructions")})).catch((function(e){return w.error(e)})).finally((function(){return c(!1)}))},children:function(e){var s=e.errors,t=e.touched,c=e.isSubmitting;return Object(a.jsxs)(_.c,{children:[Object(a.jsx)("h3",{className:"card-header",children:"Forgot Password"}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Email"}),Object(a.jsx)(_.b,{name:"email",type:"text",className:"form-control"+(s.email&&t.email?" is-invalid":"")}),Object(a.jsx)(_.a,{name:"email",component:"div",className:"invalid-feedback"})]}),Object(a.jsx)("div",{className:"form-row",children:Object(a.jsxs)("div",{className:"form-group col",children:[Object(a.jsxs)("button",{type:"submit",disabled:c,className:"btn btn-primary",children:[c&&Object(a.jsx)("span",{className:"spinner-border spinner-border-sm mr-1"}),"Submit"]}),Object(a.jsx)(o.b,{to:"login",className:"btn btn-link",children:"Cancel"})]})})]})]})}})}function ee(e){var s=e.history,t=e.location,c="Validating",r="Valid",i="Invalid",l=Object(n.useState)(null),d=Object(V.a)(l,2),j=d[0],b=d[1],m=Object(n.useState)(c),h=Object(V.a)(m,2),p=h[0],f=h[1];return Object(n.useEffect)((function(){var e=Q.a.parse(t.search).token;s.replace(t.pathname),u.validateResetToken(e).then((function(){b(e),f(r)})).catch((function(){f(i)}))}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{className:"card-header",children:"Reset Password"}),Object(a.jsx)("div",{className:"card-body",children:function(){switch(p){case r:return function(){var e=$.b().shape({password:$.d().min(6,"Password must be at least 6 characters").required("Password is required"),confirmPassword:$.d().oneOf([$.c("password"),null],"Passwords must match").required("Confirm Password is required")});return Object(a.jsx)(_.d,{initialValues:{password:"",confirmPassword:""},validationSchema:e,onSubmit:function(e,t){var c=e.password,a=e.confirmPassword,n=t.setSubmitting;w.clear(),u.resetPassword({token:j,password:c,confirmPassword:a}).then((function(){w.success("Password reset successful, you can now login",{keepAfterRouteChange:!0}),s.push("login")})).catch((function(e){n(!1),w.error(e)}))},children:function(e){var s=e.errors,t=e.touched,c=e.isSubmitting;return Object(a.jsxs)(_.c,{children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Password"}),Object(a.jsx)(_.b,{name:"password",type:"password",className:"form-control"+(s.password&&t.password?" is-invalid":"")}),Object(a.jsx)(_.a,{name:"password",component:"div",className:"invalid-feedback"})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Confirm Password"}),Object(a.jsx)(_.b,{name:"confirmPassword",type:"password",className:"form-control"+(s.confirmPassword&&t.confirmPassword?" is-invalid":"")}),Object(a.jsx)(_.a,{name:"confirmPassword",component:"div",className:"invalid-feedback"})]}),Object(a.jsx)("div",{className:"form-row",children:Object(a.jsxs)("div",{className:"form-group col",children:[Object(a.jsxs)("button",{type:"submit",disabled:c,className:"btn btn-primary",children:[c&&Object(a.jsx)("span",{className:"spinner-border spinner-border-sm mr-1"}),"Reset Password"]}),Object(a.jsx)(o.b,{to:"/login",className:"btn btn-link",children:"Cancel"})]})})]})}})}();case i:return Object(a.jsxs)("div",{children:["Token validation failed, if the token has expired you can get a new one at the ",Object(a.jsx)(o.b,{to:"forgot-password",children:"forgot password"})," page."]});case c:return Object(a.jsx)("div",{children:"Validating token..."})}}()})]})}function se(e){var s=e.history,t=e.match.path;return Object(n.useEffect)((function(){u.userValue&&s.push("/")}),[]),Object(a.jsxs)(R.d,{children:[Object(a.jsx)(R.b,{path:"".concat(t,"/login"),component:z}),Object(a.jsx)(R.b,{path:"".concat(t,"/register"),component:H}),Object(a.jsx)(R.b,{path:"".concat(t,"/verify-email"),component:X}),Object(a.jsx)(R.b,{path:"".concat(t,"/forgot-password"),component:Z}),Object(a.jsx)(R.b,{path:"".concat(t,"/reset-password"),component:ee})]})}function te(e){var s=e.match.path,t=u.userValue;return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"My Profile"}),Object(a.jsxs)("p",{children:[Object(a.jsx)("strong",{children:"Name: "})," ",t.title," ",t.firstName," ",t.lastName,Object(a.jsx)("br",{}),Object(a.jsx)("strong",{children:"Email: "})," ",t.email]}),Object(a.jsx)("p",{children:Object(a.jsx)(o.b,{to:"".concat(s,"/update"),children:"Update Profile"})})]})}function ce(e){var s=e.history,t=u.userValue,c={title:t.title,firstName:t.firstName,lastName:t.lastName,email:t.email,password:"",confirmPassword:""},r=$.b().shape({title:$.d().required("Title is required"),firstName:$.d().required("First Name is required"),lastName:$.d().required("Last Name is required"),email:$.d().email("Email is invalid").required("Email is required"),password:$.d().min(6,"Password must be at least 6 characters"),confirmPassword:$.d().when("password",(function(e,s){if(e)return s.required("Confirm Password is required")})).oneOf([$.c("password")],"Passwords must match")});var i=Object(n.useState)(!1),l=Object(V.a)(i,2),d=l[0];l[1];return Object(a.jsx)(_.d,{initialValues:c,validationSchema:r,onSubmit:function(e,c){var a=c.setStatus,n=c.setSubmitting;a(),u.update(t.id,e).then((function(){w.success("Update successful",{keepAfterRouteChange:!0}),s.push(".")})).catch((function(e){n(!1),w.error(e)}))},children:function(e){var s=e.errors,t=e.touched,c=e.isSubmitting;return Object(a.jsxs)(_.c,{children:[Object(a.jsx)("h1",{children:"Update Profile"}),Object(a.jsxs)("div",{className:"form-row",children:[Object(a.jsxs)("div",{className:"form-group col",children:[Object(a.jsx)("label",{children:"Title"}),Object(a.jsxs)(_.b,{name:"title",as:"select",className:"form-control"+(s.title&&t.title?" is-invalid":""),children:[Object(a.jsx)("option",{value:""}),Object(a.jsx)("option",{value:"Mr",children:"Mr"}),Object(a.jsx)("option",{value:"Mrs",children:"Mrs"}),Object(a.jsx)("option",{value:"Miss",children:"Miss"}),Object(a.jsx)("option",{value:"Ms",children:"Ms"})]}),Object(a.jsx)(_.a,{name:"title",component:"div",className:"invalid-feedback"})]}),Object(a.jsxs)("div",{className:"form-group col-5",children:[Object(a.jsx)("label",{children:"First Name"}),Object(a.jsx)(_.b,{name:"firstName",type:"text",className:"form-control"+(s.firstName&&t.firstName?" is-invalid":"")}),Object(a.jsx)(_.a,{name:"firstName",component:"div",className:"invalid-feedback"})]}),Object(a.jsxs)("div",{className:"form-group col-5",children:[Object(a.jsx)("label",{children:"Last Name"}),Object(a.jsx)(_.b,{name:"lastName",type:"text",className:"form-control"+(s.lastName&&t.lastName?" is-invalid":"")}),Object(a.jsx)(_.a,{name:"lastName",component:"div",className:"invalid-feedback"})]})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Email"}),Object(a.jsx)(_.b,{name:"email",type:"text",className:"form-control"+(s.email&&t.email?" is-invalid":"")}),Object(a.jsx)(_.a,{name:"email",component:"div",className:"invalid-feedback"})]}),Object(a.jsx)("h3",{className:"pt-3",children:"Change Password"}),Object(a.jsx)("p",{children:"Leave blank to keep the same password"}),Object(a.jsxs)("div",{className:"form-row",children:[Object(a.jsxs)("div",{className:"form-group col",children:[Object(a.jsx)("label",{children:"Password"}),Object(a.jsx)(_.b,{name:"password",type:"password",className:"form-control"+(s.password&&t.password?" is-invalid":"")}),Object(a.jsx)(_.a,{name:"password",component:"div",className:"invalid-feedback"})]}),Object(a.jsxs)("div",{className:"form-group col",children:[Object(a.jsx)("label",{children:"Confirm Password"}),Object(a.jsx)(_.b,{name:"confirmPassword",type:"password",className:"form-control"+(s.confirmPassword&&t.confirmPassword?" is-invalid":"")}),Object(a.jsx)(_.a,{name:"confirmPassword",component:"div",className:"invalid-feedback"})]})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsxs)("button",{type:"submit",disabled:c,className:"btn btn-primary mr-2",children:[c&&Object(a.jsx)("span",{className:"spinner-border spinner-border-sm mr-1"}),"Update"]}),Object(a.jsx)("button",{type:"button",onClick:function(){},className:"btn btn-danger",style:{width:"75px"},disabled:d,children:d?Object(a.jsx)("span",{className:"spinner-border spinner-border-sm"}):Object(a.jsx)("span",{children:"Delete"})}),Object(a.jsx)(o.b,{to:".",className:"btn btn-link",children:"Cancel"})]})]})}})}function ae(e){var s=e.match.path;return Object(a.jsx)("div",{className:"p-4",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)(R.d,{children:[Object(a.jsx)(R.b,{exact:!0,path:s,component:te}),Object(a.jsx)(R.b,{path:"".concat(s,"/update"),component:ce})]})})})}function ne(e){var s=e.match.path;return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Admin"}),Object(a.jsx)("p",{children:"This section can only be accessed by administrators."}),Object(a.jsx)("p",{children:Object(a.jsx)(o.b,{to:"".concat(s,"/users"),children:"Manage Users"})})]})}function re(e){var s=e.match.path,t=Object(n.useState)(null),c=Object(V.a)(t,2),r=c[0],i=c[1];return Object(n.useEffect)((function(){u.getAll().then((function(e){return i(e)}))}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Users"}),Object(a.jsx)("p",{children:"All users from secure (admin only) api end point:"}),Object(a.jsx)(o.b,{to:"".concat(s,"/add"),className:"btn btn-sm btn-success mb-2",children:"Add User"}),Object(a.jsxs)("table",{className:"table table-striped",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{style:{width:"30%"},children:"Name"}),Object(a.jsx)("th",{style:{width:"30%"},children:"Email"}),Object(a.jsx)("th",{style:{width:"30%"},children:"Role"}),Object(a.jsx)("th",{style:{width:"10%"}})]})}),Object(a.jsxs)("tbody",{children:[r&&r.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsxs)("td",{children:[e.title," ",e.firstName," ",e.lastName]}),Object(a.jsx)("td",{children:e.email}),Object(a.jsx)("td",{children:e.role}),Object(a.jsxs)("td",{style:{whiteSpace:"nowrap"},children:[Object(a.jsx)(o.b,{to:"".concat(s,"/edit/").concat(e.id),className:"btn btn-sm btn-primary mr-1",children:"Edit"}),Object(a.jsx)("button",{onClick:function(){return s=e.id,i(r.map((function(e){return e.id===s&&(e.isDeleting=!0),e}))),void u.delete(s).then((function(){i((function(e){return e.filter((function(e){return e.id!==s}))}))}));var s},className:"btn btn-sm btn-danger",style:{width:"60px"},disabled:e.isDeleting,children:e.isDeleting?Object(a.jsx)("span",{className:"spinner-border spinner-border-sm"}):Object(a.jsx)("span",{children:"Delete"})})]})]},e.id)})),!r&&Object(a.jsx)("tr",{children:Object(a.jsx)("td",{colSpan:"4",className:"text-center",children:Object(a.jsx)("span",{className:"spinner-border spinner-border-lg align-center"})})})]})]})]})}function ie(e){var s=e.history,t=e.match.params.id,c=!t,n=$.b().shape({title:$.d().required("Title is required"),firstName:$.d().required("First Name is required"),lastName:$.d().required("Last Name is required"),email:$.d().email("Email is invalid").required("Email is required"),role:$.d().required("Role is required"),password:$.d().concat(c?$.d().required("Password is required"):null).min(6,"Password must be at least 6 characters"),confirmPassword:$.d().when("password",(function(e,s){if(e)return s.required("Confirm Password is required")})).oneOf([$.c("password")],"Passwords must match")});return Object(a.jsx)(_.d,{initialValues:{title:"",firstName:"",lastName:"",email:"",role:"",password:"",confirmPassword:""},validationSchema:n,onSubmit:function(e,a){var n=a.setStatus,r=a.setSubmitting;n(),c?function(e,t){u.create(e).then((function(){w.success("User added successfully",{keepAfterRouteChange:!0}),s.push(".")})).catch((function(e){t(!1),w.error(e)}))}(e,r):function(e,t,c){u.update(e,t).then((function(){w.success("Update successful",{keepAfterRouteChange:!0}),s.push("..")})).catch((function(e){c(!1),w.error(e)}))}(t,e,r)}})}function le(e){var s=e.match.path;return Object(a.jsxs)(R.d,{children:[Object(a.jsx)(R.b,{exact:!0,path:s,component:re}),Object(a.jsx)(R.b,{path:"".concat(s,"/add"),component:ie}),Object(a.jsx)(R.b,{path:"".concat(s,"/edit/:id"),component:ie})]})}function oe(e){var s=e.match.path;return Object(a.jsx)("div",{className:"p-4",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)(R.d,{children:[Object(a.jsx)(R.b,{exact:!0,path:s,component:ne}),Object(a.jsx)(R.b,{path:"".concat(s,"/users"),component:le})]})})})}function de(){var e=Object(n.useState)(""),s=Object(V.a)(e,2);s[0],s[1];return Object(a.jsx)("section",{className:"vh-100",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("div",{class:"form-group d-flex flex-column justify-content-start pt-4",children:[Object(a.jsx)("h1",{className:"display-4",children:"News classificator"}),Object(a.jsx)("input",{type:"text",className:"form-control mb-2",placeholder:"Title",id:"newsTitleLabel"}),Object(a.jsx)("textarea",{placeholder:"Text",class:"form-control mb-4",id:"exampleFormControlTextarea1",rows:"8"}),Object(a.jsx)("button",{class:"btn btn-outline-primary btn-lg",href:"classificator",type:"button",onClick:function(e){w.info("Your article is fake")},children:"Classify text"})]})})})}t(114);var je=function(){var e=Object(R.g)().pathname,s=Object(n.useState)({}),t=Object(V.a)(s,2),c=(t[0],t[1]);return Object(n.useEffect)((function(){return u.user.subscribe((function(e){return c(e)})).unsubscribe}),[]),Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(L,{}),Object(a.jsx)(F,{}),Object(a.jsxs)(R.d,{children:[Object(a.jsx)(R.a,{from:"/:url*(/+)",to:e.slice(0,-1)}),Object(a.jsx)(J,{exact:!0,path:"/",component:G}),Object(a.jsx)(J,{path:"/classificator",component:de}),Object(a.jsx)(J,{path:"/archive",component:ae}),Object(a.jsx)(J,{path:"/admin",roles:[M],component:oe}),Object(a.jsx)(R.b,{path:"/account",component:se}),Object(a.jsx)(R.a,{from:"*",to:"/"})]})]})};t(115);l.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(o.a,{history:A,children:Object(a.jsx)(je,{})})}),document.getElementById("root"))},44:function(e){e.exports=JSON.parse('{"apiUrl":"https://news-classifier-server.herokuapp.com","apiUrlProduction":"https://news-classifier-server.herokuapp.com"}')},97:function(e,s,t){}},[[116,1,2]]]);
//# sourceMappingURL=main.886639d9.chunk.js.map